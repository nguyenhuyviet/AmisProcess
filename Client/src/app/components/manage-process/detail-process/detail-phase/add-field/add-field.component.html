<clr-modal [(clrModalOpen)]="open" class="addModal" >

    <h3 class="modal-title">Thêm trường mới</h3>

    <div class="modal-body">

        <clr-alert *ngIf="phase.errorAddField" clrAlertType="danger">
            <div class="alert-phase">
                <clr-icon class="alert-icon" shape="exclamation-circle"></clr-icon>
                <span class="alert-text">
                    {{ phase.errorAddField}}
                </span>
            </div>
        </clr-alert>
        <clr-alert *ngIf="phase.successAddField" clrAlertType="success">
            <div class="alert-phase">
                <clr-icon class="alert-icon" shape="check-circle"></clr-icon>
                <span class="alert-text">
                    {{ phase.successAddField}}
                </span>
            </div>
        </clr-alert>

        <form clrForm>
            <clr-input-container>
                <label class="clr-control-label clr-col-12 clr-col-md-6">Tên</label>
                <input clrInput type="text" [(ngModel)]="phase.fieldTemp.name" name="name"
                    class="clr-input clr-col-12 clr-col-md-12" autofocus
                    (focus)="phase.successAddField=''" />
            </clr-input-container>
            <clr-select-container>
                <label class="clr-control-label clr-col-12 clr-col-md-6">Loại</label>
                <select clrSelect name="type" [(ngModel)]="phase.fieldTemp.type"
                    class="clr-col-md-12 clr-col-12">
                    <option [value]="type.name" *ngFor="let type of types">{{ type.name}}</option>
                </select>
            </clr-select-container>
            <div *ngIf="phase.fieldTemp.type== 'Check Box' || phase.fieldTemp.type == 'Radio Select'"> 
                <clr-input-container>
                    <label class="clr-control-label clr-col-12 clr-col-md-6">Options</label>
                    <input clrInput type="text" [(ngModel)]="phase.fieldTemp.valueOption" name="options"
                        class="clr-input clr-col-12 clr-col-md-12" autofocus
                        (keyup)="addOptionForField(phase, $event)" />
                </clr-input-container>
                <div class="field clr-col-12">
                    <ul class="list-unstyled">
                        <li *ngFor="let option of phase.fieldTemp.options">{{option.value}} <clr-icon
                                shape="close" (click)="deleteOption(phase.fieldTemp.options,option.id)"
                                style="cursor: pointer;"></clr-icon>
                        </li>
                    </ul>
                </div>
            </div>
            <clr-textarea-container>
                <label class="clr-control-label clr-col-12 clr-col-md-6">Mô tả</label>
                <textarea clrTextarea [(ngModel)]="phase.fieldTemp.description" name="description"
                    class=" clr-col-12 clr-col-md-12"></textarea>
            </clr-textarea-container>
            <clr-toggle-container>
                <label>Trường bắt buộc</label>
                <clr-toggle-wrapper>
                    <input type="checkbox" clrToggle name="required" value="option1"
                        [(ngModel)]="phase.fieldTemp.required" />
                </clr-toggle-wrapper>
            </clr-toggle-container>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline" (click)="closeModal()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="addFieldHandle(phase)">Ok</button>
    </div>
</clr-modal>