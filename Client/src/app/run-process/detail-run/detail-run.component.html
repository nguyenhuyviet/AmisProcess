<h3>{{process.name}}</h3>
<p>Giai đoạn : {{phase.name}}</p>
<p>Mô tả : {{phase.description}}</p>

<form clrForm clrLayout="vertical">
    <div *ngFor="let item of phase.fields" [ngSwitch]="item.field.type">
        <clr-input-container *ngSwitchCase="'Text'">
            <label  class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>

            <input  class="clr-col-12 clr-col-md-4" placeholder="Full name" clrInput [(ngModel)]="item.value" name="name" required />
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
          </clr-input-container>

          <clr-textarea-container *ngSwitchCase="'Long Text'">
            <label  class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <textarea  class="clr-col-12 clr-col-md-4" clrTextarea [(ngModel)]="item.value" name="description" required></textarea>
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
          </clr-textarea-container>

          <clr-input-container *ngSwitchCase="'Email'">
            <label  class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <input  class="clr-col-12 clr-col-md-4"  type="email" placeholder="Full name" clrInput [(ngModel)]="item.value" name="name" required />
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
          </clr-input-container>

          <clr-input-container *ngSwitchCase="'Number'">
            <label  class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <input  class="clr-col-12 clr-col-md-4" type="number" placeholder="Full name" clrInput [(ngModel)]="item.value" name="name" required />
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
          </clr-input-container>

          <clr-input-container *ngSwitchCase="'Date'">
            <label  class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <input  class="clr-col-12 clr-col-md-4" type="date" clrInput name="demo" [(ngModel)]="item.value">
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
        </clr-input-container>


        <clr-input-container *ngSwitchCase="'Datetime'">
            <label  class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <input  class="clr-col-12 clr-col-md-4" type="datetime-local" placeholder="Full name" clrInput [(ngModel)]="item.value" name="name" required />
            <clr-control-helper>{{ field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
        </clr-input-container>

        <clr-input-container *ngSwitchCase="'Time'">
            <label  class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <input  class="clr-col-12 clr-col-md-4" type="time" placeholder="Full name" clrInput [(ngModel)]="item.value" name="name" required />
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
        </clr-input-container>

        <clr-checkbox-container *ngSwitchCase="'Check Box'">
            <label  class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <clr-checkbox-wrapper  *ngFor="let option of item.field.options">
              <input  class="clr-col-12 clr-col-md-4" type="checkbox" clrCheckbox [value]="option.id" #option.id name="options" (click)="setValueCheckBox(item,option.id,$event.target)" />
              <label>{{option.value}}</label>
            </clr-checkbox-wrapper>
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
          </clr-checkbox-container>

          <clr-radio-container *ngSwitchCase="'Radio Select'"> 
            <label   class="clr-col-12 clr-col-md-4">{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <clr-radio-wrapper *ngFor="let option of item.field.options">
              <input  class="clr-col-12 clr-col-md-4" type="radio" clrRadio name="field.type"  required [value]="option.id" [(ngModel)]="item.value" />
              <label >{{option.value}}</label>
            </clr-radio-wrapper>
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
          </clr-radio-container>

          <clr-input-container *ngSwitchCase="'Attachment'">
            <label  class="clr-col-12 clr-col-md-4">{{field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <input  class="clr-col-12 clr-col-md-4" type="file" placeholder="Full name" clrInput [(ngModel)]="item.value" name="name" required />
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
          </clr-input-container>

         
          <clr-select-container *ngSwitchCase="'Asignee Select'">
            <label class="clr-col-12 clr-col-md-4" >{{item.field.name}}{{(item.field.required == true) ? '*': ''}}</label>
            <select class="clr-col-12 clr-col-md-2" clrSelect name="options" [(ngModel)]="item.value" required>
              <option [value]="person.employeeCode" *ngFor="let person of nextPhase.personImplement" >{{person.firstName + ' ' + person.lastName}}</option>
            </select>
            <clr-control-helper>{{ item.field.description }}</clr-control-helper>
            <clr-control-error>This field is required!</clr-control-error>
          </clr-select-container>
        
    </div>
          <button class="btn btn-primary btn-sm" (click)="submitHandle()">Hoàn thành</button>
          <button class="btn btn-primary btn-sm" (click)="cancelHandle($event)">Hủy</button>
</form>